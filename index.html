<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon" />
    <meta name="robots" content="noindex" />
    <title>Quantum Café – Kiosk Wireframe</title>
    <meta name="description" content="サイトの概要を記入します。" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@400;500&family=Noto+Sans+JP&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./CSS/style.css" />
    <link rel="stylesheet" href="./CSS/reset.css" />
  </head>
<body>
  <div class="app">
    <!-- Header -->
    <header class="org-header" role="banner">
      <h1 class="h1">Quantum Café</h1>
      <div class="header-actions" role="group" aria-label="ヘッダー操作">
        <button class="btn btn-ghost" aria-label="ヘルプ">?</button>
        <!-- これを押すと Step0（言語選択）へ遷移 -->
        <button class="btn btn-ghost" id="lang-indicator" aria-label="現在の言語">JP</button>
        <button class="fab-accessibility" aria-label="アクセシビリティ設定">A+</button>
      </div>
    </header>

    <!-- Progress (top) -->
    <nav class="progress" aria-label="ステップ進捗">
      <ol>
        <li class="is-done"></li>
        <li class="is-active"></li>
        <li></li><li></li><li></li><li></li>
      </ol>
    </nav>

    <!-- Content -->
    <main class="content" role="main">

      <!-- 00: Splash / Language -->
      <section class="tpl-step" data-step="0">
        <div class="card">
          <h2 class="h1">言語を選択してください</h2>
          <div class="segmented" role="tablist" aria-label="言語選択" id="lang-tabs">
            <button role="tab" aria-selected="true" data-lang="ja">日本語</button>
            <button role="tab" aria-selected="false" data-lang="en">English</button>
            <button role="tab" aria-selected="false" data-lang="zh">简体中文</button>
            <button role="tab" aria-selected="false" data-lang="ko">한국어</button>
          </div>
          <div class="actions-row">
            <button class="btn btn-secondary" data-jump="1">戻る</button>
            <button class="btn btn-primary" data-jump="1">はじめる</button>
          </div>
          <p class="caption">データの扱いについては <a href="#" class="link">こちら</a></p>
        </div>
      </section>

      <!-- 01: Welcome Mode (初期表示) -->
      <section class="tpl-step" data-step="1" data-active>
        <div class="stack gap-24">
          <div class="row-between">
            <h2 class="h1">はじめ方をえらぶ</h2>
            <!-- 画面内の“言語を変更”ボタン（押すと Step0 へ） -->
            <button class="btn btn-ghost btn-lang-switch" data-jump="0" aria-label="言語を変更">言語を変更</button>
          </div>

          <div class="grid-2">
            <article class="card selectable" data-mode="simple" role="button" tabindex="0" aria-label="かんたんモード">
              <h3 class="h2">かんたん</h3>
              <p class="body">所要 45秒（体調・価値観はスキップ）</p>
            </article>
            <article class="card selectable" data-mode="detailed" role="button" tabindex="0" aria-label="くわしくモード">
              <h3 class="h2">くわしく</h3>
              <p class="body">所要 90秒（全ステップ）</p>
            </article>
          </div>

          <p class="caption">データは匿名IDで一時保存され、会期終了後に削除されます。<a class="link" href="#">詳しく</a></p>
        </div>
      </section>

      <!-- 02: Taste Profile（整え済み） -->
      <section class="tpl-step" data-step="2">
        <div class="stack gap-24">
          <h2 class="h1">味の好み</h2>

          <div class="taste-layout">
            <!-- 左：カテゴリ -->
            <div class="card taste-col">
              <h3 class="h2">味カテゴリ</h3>
              <p class="caption">調整したい味をえらんでください。</p>
              <div class="chips taste-group" role="group" aria-label="味カテゴリ">
                <button class="chip is-selected" data-flavor="sweet">甘</button>
                <button class="chip" data-flavor="sour">酸</button>
                <button class="chip" data-flavor="bitter">苦</button>
                <button class="chip" data-flavor="umami">旨</button>
                <button class="chip" data-flavor="salty">塩</button>
                <button class="chip" data-flavor="spice">スパイス 🌶️</button>
              </div>
            </div>

            <!-- 右：調整＋プレビュー -->
            <div class="taste-col stack gap-16">
              <div class="card slider-card">
                <div class="slider-head">
                  <label class="label" id="flavor-label">甘の強さ</label>
                  <span class="slider-value" id="flavor-value">60%</span>
                </div>
                <input type="range" min="0" max="100" value="60" aria-label="味の強さ" id="flavor-slider" />
                <p class="caption">強さを 0–100% で調整</p>
              </div>

              <div class="card mix-card">
                <div class="mix-header">
                  <h3 class="h2">いまの味バランス</h3>
                  <span class="caption" id="taste-label">甘 60%</span>
                </div>
                <div class="mix-bar"><span id="taste-bar" style="width: 60%"></span></div>
                <div class="mix-mini">
                  <div class="mini-row"><span>甘</span><strong id="mini-sweet">60%</strong></div>
                  <div class="mini-row"><span>酸</span><strong id="mini-sour">0%</strong></div>
                  <div class="mini-row"><span>苦</span><strong id="mini-bitter">0%</strong></div>
                  <div class="mini-row"><span>旨</span><strong id="mini-umami">0%</strong></div>
                  <div class="mini-row"><span>塩</span><strong id="mini-salty">0%</strong></div>
                  <div class="mini-row"><span>スパイス</span><strong id="mini-spice">0%</strong></div>
                </div>
              </div>
            </div>
          </div><!-- /taste-layout -->
        </div>
      </section>

      <!-- 03: Restrictions -->
      <section class="tpl-step" data-step="3">
        <div class="stack gap-24">
          <h2 class="h1">食の制約</h2>

          <div class="card stack gap-16">
            <h3 class="h2">アレルギー</h3>
            <div class="search">
              <input type="search" placeholder="食材を検索（例：乳、小麦…）" aria-label="アレルギー検索" />
            </div>
            <div class="chips wrap allergy-group" role="group" aria-label="主要アレルゲン">
              <button class="chip" data-allergen="卵">卵</button>
              <button class="chip" data-allergen="乳">乳</button>
              <button class="chip" data-allergen="小麦">小麦</button>
              <button class="chip" data-allergen="そば">そば</button>
              <button class="chip" data-allergen="落花生">落花生</button>
              <button class="chip" data-allergen="えび">えび</button>
              <button class="chip" data-allergen="かに">かに</button>
              <button class="chip" data-allergen="くるみ">くるみ</button>
            </div>
            <div class="selected-pills" aria-live="polite" id="allergen-pills"></div>
          </div>

          <div class="grid-2">
            <div class="card toggle-card">
              <div class="toggle-head">
                <h3 class="h2">宗教的禁忌</h3>
                <span class="caption">ハラール / コーシャ / 豚NG / 酒NG</span>
              </div>
              <div class="toggle-list">
                <label class="switch"><input type="checkbox" data-religion="halal" />ハラール</label>
                <label class="switch"><input type="checkbox" data-religion="kosher" />コーシャ</label>
                <label class="switch"><input type="checkbox" data-religion="pork_ng" />豚NG</label>
                <label class="switch"><input type="checkbox" data-religion="alcohol_ng" />アルコールNG</label>
              </div>
            </div>

            <div class="card toggle-card">
              <div class="toggle-head">
                <h3 class="h2">ライフスタイル</h3>
                <span class="caption">ヴィーガン/ベジ各種</span>
              </div>
              <div class="toggle-list">
                <label class="switch"><input type="checkbox" data-life="vegan" />ヴィーガン</label>
                <label class="switch"><input type="checkbox" data-life="lacto" />ラクト</label>
                <label class="switch"><input type="checkbox" data-life="ovo" />オボ</label>
                <label class="switch"><input type="checkbox" data-life="pesco" />ペスコ</label>
                <label class="switch"><input type="checkbox" data-life="flexi" />フレキシ</label>
              </div>
            </div>
          </div>

          <div class="banner-safe">
            <strong>完全対応モードON：</strong>選ばない食材は以後の候補から自動で非表示にします。
          </div>
        </div>
      </section>

      <!-- 04: Condition -->
      <section class="tpl-step" data-step="4">
        <div class="stack gap-24">
          <h2 class="h1">体調・気分</h2>
        <div class="grid-2">
            <div class="card stack gap-16">
              <button class="btn btn-primary">自動測定を試す</button>
              <p class="caption">※任意。カメラPPG/ウォッチ連携</p>
            </div>
            <div class="card stack gap-16">
              <label class="label">いまの気分（さっぱり↔こってり）</label>
              <input type="range" min="0" max="100" value="35" aria-label="気分スライダー" id="mood-slider" />
              <div class="toggles">
                <label class="switch"><input type="checkbox" id="low-caffeine" />低カフェイン</label>
                <label class="switch"><input type="checkbox" id="low-sugar" />低糖</label>
                <label class="switch"><input type="checkbox" id="low-fat" />低脂</label>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 05: Values -->
      <section class="tpl-step" data-step="5">
        <div class="stack gap-24">
          <h2 class="h1">価値観</h2>
          <div class="card stack gap-16">
            <label class="label">CO₂配慮度</label>
            <input type="range" min="0" max="2" value="1" aria-label="CO2配慮度" id="co2-slider" />
            <div class="checks">
              <label><input type="checkbox" id="fairtrade" />フェアトレード</label>
              <label><input type="checkbox" id="organic" />オーガニック</label>
              <label><input type="checkbox" id="additive-free" />無添加</label>
            </div>
          </div>
          <div class="card stack gap-16">
            <div class="chips" role="group" aria-label="価格帯">
              <button class="chip" data-price="low">ワンコイン</button>
              <button class="chip is-selected" data-price="std">スタンダード</button>
              <button class="chip" data-price="premium">プレミアム</button>
            </div>
            <label class="switch"><input type="checkbox" id="fast-serving" />提供スピード優先</label>
          </div>
        </div>
      </section>

      <!-- 06: Summary -->
      <section class="tpl-step" data-step="6">
        <div class="stack gap-24">
          <h2 class="h1">サマリー & 同意</h2>
          <ul class="summary">
            <li class="summary-row">
              <span class="summary-key">味</span>
              <span class="summary-val" id="summary-taste">—</span>
              <button class="btn btn-edit" data-jump="2" aria-label="味を編集">編集</button>
            </li>
            <li class="summary-row">
              <span class="summary-key">制約</span>
              <span class="summary-val" id="summary-restrictions">—</span>
              <button class="btn btn-edit" data-jump="3" aria-label="制約を編集">編集</button>
            </li>
            <li class="summary-row">
              <span class="summary-key">体調</span>
              <span class="summary-val" id="summary-condition">—</span>
              <button class="btn btn-edit" data-jump="4" aria-label="体調を編集">編集</button>
            </li>
            <li class="summary-row">
              <span class="summary-key">価値観</span>
              <span class="summary-val" id="summary-values">—</span>
              <button class="btn btn-edit" data-jump="5" aria-label="価値観を編集">編集</button>
            </li>
          </ul>
          <label class="consent"><input type="checkbox" id="consent-check" />匿名IDで一時保存・会期終了後に削除に同意します</label>
          <p class="caption">「なぜこの質問？」 <span class="link">安全でおいしい提案のため</span></p>
        </div>
      </section>

      <!-- 07: Results + Quantum Dice -->
      <section class="tpl-step" data-step="7">
        <div class="stack gap-24">
          <h2 class="h1">あなたへのおすすめ</h2>

          <div class="reco-grid">
            <article class="reco card">
              <div class="badges"></div>
              <h3 class="h2">最適プラン</h3>
              <div class="visual"><img class="analysis-img" data-card="1" alt="味の分析画像 1"></div>
              <details class="why">
                <summary>なぜこれ？</summary>
                <p id="why-1">味プロファイルに基づく提案。</p>
              </details>
              <button class="btn btn-order">注文へ</button>
            </article>

            <article class="reco card">
              <div class="badges"></div>
              <h3 class="h2">代替プラン</h3>
              <div class="visual"><img class="analysis-img" data-card="2" alt="味の分析画像 2"></div>
              <details class="why">
                <summary>なぜこれ？</summary>
                <p id="why-2">スパイス強め希望を考慮した代替案。</p>
              </details>
              <button class="btn btn-order">注文へ</button>
            </article>

            <article class="reco card">
              <div class="badges"></div>
              <h3 class="h2">冒険プラン</h3>
              <div class="visual"><img class="analysis-img" data-card="3" alt="味の分析画像 3"></div>
              <details class="why">
                <summary>なぜこれ？</summary>
                <p id="why-3">安全枠内で新しい味レンジを提案。</p>
              </details>
              <button class="btn btn-order">注文へ</button>
            </article>
          </div>

          <div class="dice card">
            <div class="dice-visual">▢</div>
            <div class="stack gap-8">
              <h3 class="h2">量子ダイス・スイーツ</h3>
              <p class="body">タップで量子“崩壊”。安全枠内で味レンジ＋テクスチャを抽選。</p>
              <button class="btn btn-ghost">抽選する</button>
            </div>
          </div>

        </div>
      </section>

      <!-- 08: Order Queue（ドリンク） -->
      <section class="tpl-step" data-step="8">
        <div class="stack gap-24">
          <h2 class="h1">調理キュー</h2>
          <div class="order card">
            <div class="order-row"><span>番号</span><strong id="order-no">A-012</strong></div>
            <div class="order-row"><span>ETA</span><strong>04:30</strong></div>
            <div class="order-row"><span>Live</span><div class="live placeholder">ロボシェフ</div></div>
            <button class="btn btn-secondary" id="show-qr">受付QRを表示</button>
          </div>
        </div>
      </section>

      <!-- 12: Order Queue（デザート：量子ダイス） -->
      <section class="tpl-step" data-step="12">
        <div class="stack gap-24">
          <h2 class="h1">調理キュー（デザート）</h2>
          <div class="order card">
            <div class="order-row"><span>番号</span><strong id="order-no-dessert">D-027</strong></div>
            <div class="order-row"><span>ETA</span><strong>03:10</strong></div>
            <div class="order-row"><span>Live</span><div class="live placeholder">ロボパティシエ</div></div>
            <button class="btn btn-secondary" id="show-qr-dessert">受付QRを表示</button>
          </div>
        </div>
      </section>

      <!-- 09: Timeout -->
      <section class="tpl-step" data-step="9">
        <div class="stack gap-24 center">
          <h2 class="h1">セッションが一時停止しました</h2>
          <div class="actions-row">
            <button class="btn btn-primary">再開</button>
            <button class="btn btn-secondary">最初に戻る</button>
          </div>
        </div>
      </section>

      <!-- 10: Staff Help -->
      <section class="tpl-step" data-step="10">
        <div class="stack gap-24">
          <h2 class="h1">スタッフヘルプ</h2>
          <div class="grid-2">
            <button class="btn btn-primary" id="call-staff">スタッフを呼ぶ</button>
            <div class="faq card">
              <h3 class="h2">よくある質問</h3>
              <ul class="body">
                <li>データは匿名で保存されますか？</li>
                <li>宗教・アレルギーへの配慮は？</li>
                <li>量子ダイスは安全ですか？</li>
              </ul>
            </div>
          </div>
          <p class="caption" aria-live="polite" id="call-status" hidden></p>
        </div>
      </section>

      <!-- 11: Thank You -->
      <section class="tpl-step" data-step="11">
        <div class="stack gap-24 center">
          <h2 class="h1">ご注文ありがとうございました</h2>
          <p class="body">
            いただいたアンケートを元に、あなた用にカスタマイズしたメニューをお持ちします。<br />
            お好きなお席にお掛けになって、お待ちくださいませ。
          </p>
          <div class="actions-row">
            <button class="btn btn-primary" data-jump="1">トップに戻る</button>
            <button class="btn btn-secondary" data-jump="7">もう一杯つくる</button>
          </div>
        </div>
      </section>

    </main>

    <!-- Footer -->
    <footer class="org-footer" role="contentinfo">
      <button class="btn btn-secondary">戻る</button>
      <div class="progress small" aria-hidden="true">
        <ol>
          <li class="is-done"></li>
          <li class="is-active"></li>
          <li></li><li></li><li></li><li></li>
        </ol>
      </div>
      <button class="btn btn-primary">次へ</button>
    </footer>
  </div>
  <script src="./js/script.js"></script>
</body>
</html>